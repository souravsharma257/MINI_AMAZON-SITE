{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Mini Amazon{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
  <header>
    <h1><a href="/">Mini Amazon</a></h1>
    <form method="GET" action="{% url 'search' %}" style="display: inline; margin-left: 20px;">
      <input type="text" name="q" placeholder="Search products..." value="{{ query|default:'' }}">
      <button type="submit">submit</button>
    </form>
    <nav>
      {% if user.is_authenticated %}
        Hi, {{ user.username }}!
        <form method="post" action="{% url 'logout' %}" style="display: inline;">
          {% csrf_token %}
          <button type="submit" style="background: none; border: none; color: inherit; cursor: pointer; text-decoration: underline;">Logout</button>
        </form> |
      {% else %}
        <a href="{% url 'login' %}">Login</a> | <a href="{% url 'register' %}">Register</a> |
      {% endif %}
      <a href="{% url 'product_list' %}">Products</a> |
      <a href="{% url 'cart' %}">Cart</a>
      {% if user.is_authenticated %}
        | <a href="{% url 'wishlist' %}">Wishlist</a> |
        <a href="{% url 'order_history' %}">Orders</a>
      {% endif %}
      
    </nav>
  </header>
  <main>
    {% block content %}{% endblock %}
  </main>
  <script src="{% static 'script.js' %}"></script>
</body>
</html>